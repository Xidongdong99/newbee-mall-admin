import"./vendor.9959cf56.js";/* empty css             *//* empty css                     *//* empty css                 */import{h as e,e as a,s as t,o as l,n as s,g as o,w as r,V as n,Q as c,u as i,O as u,P as p,r as g,k as d,N as m,E as b,c as f,d as h,a as S,R as _,J as k,W as v,K as y,S as j,T as P}from"./index.0bf1171a.js";/* empty css              *//* empty css               *//* empty css                  */const w={__name:"Table",props:{action:String},setup(g,{expose:d}){const m=g,b=i(),{goTop:f}=b.appContext.config.globalProperties,h=e({loading:!1,tableData:[],total:0,currentPage:1,pageSize:10,multipleSelection:[]});a((()=>{S()}));const S=()=>{h.loading=!0,t.get(m.action,{params:{pageNumber:h.currentPage,pageSize:h.pageSize}}).then((e=>{h.tableData=e.list,h.total=e.totalCount,h.currentPage=e.currPage,h.loading=!1,f&&f()}))},_=e=>{h.multipleSelection=e},k=e=>{h.currentPage=e,S()};return d({state:h,getList:S}),(e,a)=>{const t=u,i=p;return l(),s(c,null,[o(t,{load:h.loading,data:h.tableData,"tooltip-effect":"dark",style:{width:"100%"},onSelectionChange:_},{default:r((()=>[n(e.$slots,"column")])),_:3},8,["load","data"]),o(i,{background:"",layout:"prev, pager, next",total:h.total,"page-size":h.pageSize,"current-page":h.currentPage,onCurrentChange:k},null,8,["total","page-size","current-page"])],64)}}},C={class:"header"},x={__name:"Guest",setup(e){let a=g(null);const s=()=>{a.value.state.multipleSelection.length?t.put("/users/0",{ids:a.value.state.multipleSelection.map((e=>e.userId))}).then((()=>{y.success("解除成功"),a.value.getList()})):y.error("请选择项")},n=()=>{a.value.state.multipleSelection.length?t.put("/users/1",{ids:a.value.state.multipleSelection.map((e=>e.userId))}).then((()=>{y.success("禁用成功"),a.value.getList()})):y.error("请选择项")};return(e,t)=>{const c=d,i=m,u=b;return l(),f(u,{class:"guest-container"},{header:r((()=>[h("div",C,[o(c,{type:"primary",icon:_(j),onClick:s},{default:r((()=>[S("解除禁用")])),_:1},8,["icon"]),o(c,{type:"danger",icon:_(P),onClick:n},{default:r((()=>[S("禁用账户")])),_:1},8,["icon"])])])),default:r((()=>[o(w,{action:"/users",ref_key:"table",ref:a},{column:r((()=>[o(i,{type:"selection",width:"55"}),o(i,{prop:"nickName",label:"昵称"}),o(i,{prop:"loginName",label:"登录名"}),o(i,{label:"身份状态"},{default:r((e=>[h("span",{style:v(0==e.row.lockedFlag?"color: green;":"color: red;")},k(0==e.row.lockedFlag?"正常":"禁用"),5)])),_:1}),o(i,{label:"是否注销"},{default:r((e=>[h("span",{style:v(0==e.row.lockedFlag?"color: green;":"color: red;")},k(0==e.row.isDeleted?"正常":"注销"),5)])),_:1}),o(i,{prop:"createTime",label:"注册时间"})])),_:1},512)])),_:1})}}};export{x as default};
