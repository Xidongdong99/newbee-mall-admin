import"./vendor.9959cf56.js";/* empty css             *//* empty css               *//* empty css              */import{_ as a,u as e,x as o,h as t,e as r,s,k as l,N as d,O as i,P as n,E as p,o as g,c,w as u,d as b,g as m,a as h,R as f,n as k,S as y,K as x}from"./index.0bf1171a.js";/* empty css                  *//* empty css                     *//* empty css                 */const w={class:"header"},C=["src"],_={key:0,style:{color:"green"}},P={key:1,style:{color:"red"}},S=["onClick"],j=["onClick"],v=["onClick"];var I=a({__name:"Good",setup(a){const I=e(),{goTop:z}=I.appContext.config.globalProperties,N=o(),D=t({loading:!1,tableData:[],total:0,currentPage:1,pageSize:10});r((()=>{$()}));const $=()=>{D.loading=!0,s.get("/goods/list",{params:{pageNumber:D.currentPage,pageSize:D.pageSize}}).then((a=>{D.tableData=a.list,D.total=a.totalCount,D.currentPage=a.currPage,D.loading=!1,z&&z()}))},q=()=>{N.push({path:"/add"})},E=a=>{D.currentPage=a,$()},G=(a,e)=>{s.put(`/goods/status/${e}`,{ids:a?[a]:[]}).then((()=>{x.success("修改成功"),$()}))};return(a,e)=>{const o=l,t=d,r=i,s=n,x=p;return g(),c(x,{class:"good-container"},{header:u((()=>[b("div",w,[m(o,{type:"primary",icon:f(y),onClick:q},{default:u((()=>[h("新增商品")])),_:1},8,["icon"])])])),default:u((()=>[m(r,{load:D.loading,data:D.tableData,"tooltip-effect":"dark",style:{width:"100%"}},{default:u((()=>[m(t,{prop:"goodsId",label:"商品编号"}),m(t,{prop:"goodsName",label:"商品名"}),m(t,{prop:"goodsIntro",label:"商品简介"}),m(t,{label:"商品图片",width:"150px"},{default:u((e=>[(g(),k("img",{style:{width:"100px",height:"100px"},key:e.row.goodsId,src:a.$filters.prefix(e.row.goodsCoverImg),alt:"商品主图"},null,8,C))])),_:1}),m(t,{prop:"stockNum",label:"商品库存"}),m(t,{prop:"sellingPrice",label:"商品售价"}),m(t,{label:"上架状态"},{default:u((a=>[0==a.row.goodsSellStatus?(g(),k("span",_,"销售中")):(g(),k("span",P,"已下架"))])),_:1}),m(t,{label:"操作",width:"100"},{default:u((a=>[b("a",{style:{cursor:"pointer","margin-right":"10px"},onClick:e=>{return o=a.row.goodsId,void N.push({path:"/add",query:{id:o}});var o}},"修改",8,S),0==a.row.goodsSellStatus?(g(),k("a",{key:0,style:{cursor:"pointer","margin-right":"10px"},onClick:e=>G(a.row.goodsId,1)},"下架",8,j)):(g(),k("a",{key:1,style:{cursor:"pointer","margin-right":"10px"},onClick:e=>G(a.row.goodsId,0)},"上架",8,v))])),_:1})])),_:1},8,["load","data"]),m(s,{background:"",layout:"prev, pager, next",total:D.total,"page-size":D.pageSize,"current-page":D.currentPage,onCurrentChange:E},null,8,["total","page-size","current-page"])])),_:1})}}},[["__scopeId","data-v-4a7acbe8"]]);export{I as default};
